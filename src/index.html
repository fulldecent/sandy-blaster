<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sendy Blaster</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
    <div class="container my-4">
        <nav aria-label="breadcrumb">
            <ol id="breadcrumbs" class="breadcrumb">
                <li class="breadcrumb-item"><a href="#" data-view="main">Sendy Blaster</a></li>
            </ol>
        </nav>
        <div id="main-view">
            <h1>Sendy Blaster</h1>
            <h2>Contacts</h2>
            <div class="card mb-4">
                <div class="card-body">
                    <p id="contacts-status" class="card-text"></p>
                    <p id="contacts-count" class="card-text"></p>
                    <button id="contacts-load" class="btn btn-primary">Load Contacts</button>
                    <input type="file" id="contacts-upload" accept=".csv" class="d-none">
                    <button id="contacts-clear" class="btn btn-danger d-none">Clear Contacts</button>
                </div>
            </div>
            <h2>Template</h2>
            <div class="card mb-4">
                <div class="card-body">
                    <p id="template-status" class="card-text"></p>
                    <div class="d-flex gap-2">
                        <button id="template-load" class="btn btn-primary">Load Template</button>
                        <input type="file" id="template-upload" accept=".json" class="d-none">
                        <button id="template-edit" class="btn btn-primary">View/Edit Template</button>
                        <button id="template-download" class="btn btn-primary">Download</button>
                        <button id="template-clear" class="btn btn-danger d-none">Clear Template</button>
                    </div>
                </div>
            </div>
            <h2>Sending</h2>
            <div class="card mb-4">
                <div class="card-body">
                    <form id="sending-config" class="mb-3">
                        <div class="mb-3">
                            <label class="form-label">Mailgun API Key</label>
                            <input type="text" name="apiKey" class="form-control" required>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Mailgun Domain</label>
                            <input type="text" name="domain" class="form-control" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Save Config</button>
                    </form>
                    <div class="d-flex align-items-center gap-2 mb-3">
                        <button id="sending-send" class="btn btn-success" disabled>Send Emails</button>
                        <span id="sending-send-status" class="text-muted"></span>
                    </div>
                    <div id="sending-progress" class="d-none">
                        <div class="progress mb-3">
                            <div id="sending-progress-bar" class="progress-bar" role="progressbar" style="width: 0%">
                            </div>
                        </div>
                        <div class="d-flex gap-2 mb-3">
                            <button id="sending-pause" class="btn btn-warning">Pause</button>
                            <button id="sending-stop" class="btn btn-danger">Stop</button>
                        </div>
                        <span id="sending-eta" class="text-muted"></span>
                    </div>
                    <button id="sending-download" class="btn btn-primary d-none">Save Sending Report</button>
                </div>
            </div>
        </div>
        <div id="template-view" class="d-none">
            <h1>View/Edit Template</h1>
            <textarea id="template-text" rows="10" placeholder="Enter Handlebars template..."
                class="form-control mb-3"></textarea>
            <form id="template-mapping" class="mb-3">
                <div class="mb-3">
                    <label class="form-label">Sender Name</label>
                    <input type="text" name="sender_name" placeholder="Column for {{sender_name}}" class="form-control">
                </div>
                <div class="mb-3">
                    <label class="form-label">Sender Email</label>
                    <input type="text" name="sender_email" placeholder="Column for {{sender_email}}"
                        class="form-control">
                </div>
                <div class="mb-3">
                    <label class="form-label">Subject</label>
                    <input type="text" name="subject" placeholder="Column for {{subject}}" class="form-control">
                </div>
                <div class="mb-3">
                    <label class="form-label">Recipient Name</label>
                    <input type="text" name="recipient_name" placeholder="Column for {{recipient_name}}"
                        class="form-control">
                </div>
                <div class="mb-3">
                    <label class="form-label">Recipient Email</label>
                    <input type="text" name="recipient_email" placeholder="Column for {{recipient_email}}"
                        class="form-control">
                </div>
                <button type="submit" class="btn btn-primary">Save Template</button>
            </form>
            <hr>
            <div class="d-flex gap-2 mb-3 align-items-center">
                <span id="contact-selector-status"></span>
                <button id="contact-prev" class="btn btn-outline-primary" disabled>&larr;</button>
                <span id="contact-page-info"></span>
                <button id="contact-next" class="btn btn-outline-primary" disabled>&rarr;</button>
                <button id="contact-random" class="btn btn-outline-primary" disabled>Random</button>
            </div>
            <hr>
            <div id="preview-content" class="border p-3"></div>
        </div>
    </div>
    <script src="https://unpkg.com/papaparse@5.4.1/papaparse.min.js"></script>
    <!-- ^^ https://github.com/mholt/PapaParse/issues/977 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="js/app.js"></script>
</body>

</html>